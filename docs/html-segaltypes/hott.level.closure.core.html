<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>hott.level.closure.core</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Option">--without-K</a> <a id="25" class="Symbol">#-}</a>
<a id="29" class="Keyword">module</a> <a id="36" href="hott.level.closure.core.html" class="Module">hott.level.closure.core</a> <a id="60" class="Keyword">where</a>

<a id="67" class="Keyword">open</a> <a id="72" class="Keyword">import</a> <a id="79" href="level.html" class="Module">level</a>
<a id="85" class="Keyword">open</a> <a id="90" class="Keyword">import</a> <a id="97" href="decidable.html" class="Module">decidable</a>
<a id="107" class="Keyword">open</a> <a id="112" class="Keyword">import</a> <a id="119" href="equality.html" class="Module">equality</a>
<a id="128" class="Keyword">open</a> <a id="133" class="Keyword">import</a> <a id="140" href="function.isomorphism.core.html" class="Module">function.isomorphism.core</a>
<a id="166" class="Comment">-- open import function.isomorphism.properties</a>
<a id="213" class="Keyword">open</a> <a id="218" class="Keyword">import</a> <a id="225" href="sum.html" class="Module">sum</a>
<a id="229" class="Keyword">open</a> <a id="234" class="Keyword">import</a> <a id="241" href="hott.level.core.html" class="Module">hott.level.core</a>
<a id="257" class="Keyword">open</a> <a id="262" class="Keyword">import</a> <a id="269" href="hott.equivalence.core.html" class="Module">hott.equivalence.core</a>
<a id="291" class="Keyword">open</a> <a id="296" class="Keyword">import</a> <a id="303" href="hott.univalence.html" class="Module">hott.univalence</a>
<a id="319" class="Keyword">open</a> <a id="324" class="Keyword">import</a> <a id="331" href="sets.nat.core.html" class="Module">sets.nat.core</a>
<a id="345" class="Keyword">open</a> <a id="350" class="Keyword">import</a> <a id="357" href="sets.nat.ordering.leq.core.html" class="Module">sets.nat.ordering.leq.core</a>
<a id="384" class="Keyword">open</a> <a id="389" class="Keyword">import</a> <a id="396" href="sets.nat.ordering.leq.decide.html" class="Module">sets.nat.ordering.leq.decide</a>
<a id="425" class="Keyword">open</a> <a id="430" class="Keyword">import</a> <a id="437" href="sets.empty.html" class="Module">sets.empty</a>
<a id="448" class="Keyword">open</a> <a id="453" class="Keyword">import</a> <a id="460" href="sets.unit.html" class="Module">sets.unit</a>

<a id="Σ-contr" href="hott.level.closure.core.html#%CE%A3-contr" class="Function">Σ-contr</a> <a id="479" class="Symbol">:</a> <a id="481" class="Symbol">∀</a> <a id="483" class="Symbol">{</a><a id="484" href="hott.level.closure.core.html#484" class="Bound">i</a> <a id="486" href="hott.level.closure.core.html#486" class="Bound">j</a><a id="487" class="Symbol">}{</a><a id="489" href="hott.level.closure.core.html#489" class="Bound">X</a> <a id="491" class="Symbol">:</a> <a id="493" class="PrimitiveType">Set</a> <a id="497" href="hott.level.closure.core.html#484" class="Bound">i</a><a id="498" class="Symbol">}{</a><a id="500" href="hott.level.closure.core.html#500" class="Bound">Y</a> <a id="502" class="Symbol">:</a> <a id="504" href="hott.level.closure.core.html#489" class="Bound">X</a> <a id="506" class="Symbol">→</a> <a id="508" class="PrimitiveType">Set</a> <a id="512" href="hott.level.closure.core.html#486" class="Bound">j</a><a id="513" class="Symbol">}</a>
        <a id="523" class="Symbol">→</a> <a id="525" href="hott.level.core.html#contr" class="Function">contr</a> <a id="531" href="hott.level.closure.core.html#489" class="Bound">X</a> <a id="533" class="Symbol">→</a> <a id="535" class="Symbol">((</a><a id="537" href="hott.level.closure.core.html#537" class="Bound">x</a> <a id="539" class="Symbol">:</a> <a id="541" href="hott.level.closure.core.html#489" class="Bound">X</a><a id="542" class="Symbol">)</a> <a id="544" class="Symbol">→</a> <a id="546" href="hott.level.core.html#contr" class="Function">contr</a> <a id="552" class="Symbol">(</a><a id="553" href="hott.level.closure.core.html#500" class="Bound">Y</a> <a id="555" href="hott.level.closure.core.html#537" class="Bound">x</a><a id="556" class="Symbol">))</a>
        <a id="567" class="Symbol">→</a> <a id="569" href="hott.level.core.html#contr" class="Function">contr</a> <a id="575" class="Symbol">(</a><a id="576" href="sum.html#%CE%A3" class="Record">Σ</a> <a id="578" href="hott.level.closure.core.html#489" class="Bound">X</a> <a id="580" href="hott.level.closure.core.html#500" class="Bound">Y</a><a id="581" class="Symbol">)</a>
<a id="583" href="hott.level.closure.core.html#%CE%A3-contr" class="Function">Σ-contr</a> <a id="591" class="Symbol">{</a><a id="592" class="Argument">X</a> <a id="594" class="Symbol">=</a> <a id="596" href="hott.level.closure.core.html#596" class="Bound">X</a><a id="597" class="Symbol">}{</a><a id="599" class="Argument">Y</a> <a id="601" class="Symbol">=</a> <a id="603" href="hott.level.closure.core.html#603" class="Bound">Y</a><a id="604" class="Symbol">}</a> <a id="606" class="Symbol">(</a><a id="607" href="hott.level.closure.core.html#607" class="Bound">x₀</a> <a id="610" href="sum.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="612" href="hott.level.closure.core.html#612" class="Bound">cx</a><a id="614" class="Symbol">)</a> <a id="616" href="hott.level.closure.core.html#616" class="Bound">hY</a>
  <a id="621" class="Symbol">=</a> <a id="623" class="Symbol">(</a><a id="624" href="hott.level.closure.core.html#607" class="Bound">x₀</a> <a id="627" href="sum.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="629" href="sum.html#%CE%A3.proj%E2%82%81" class="Field">proj₁</a> <a id="635" class="Symbol">(</a><a id="636" href="hott.level.closure.core.html#616" class="Bound">hY</a> <a id="639" href="hott.level.closure.core.html#607" class="Bound">x₀</a><a id="641" class="Symbol">))</a> <a id="644" href="sum.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="646" class="Symbol">λ</a> <a id="648" class="Symbol">{</a> <a id="650" class="Symbol">(</a><a id="651" href="hott.level.closure.core.html#651" class="Bound">x</a> <a id="653" href="sum.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="655" href="hott.level.closure.core.html#655" class="Bound">y</a><a id="656" class="Symbol">)</a> <a id="658" class="Symbol">→</a> <a id="660" href="hott.level.closure.core.html#684" class="Function">c</a> <a id="662" href="hott.level.closure.core.html#651" class="Bound">x</a> <a id="664" href="hott.level.closure.core.html#655" class="Bound">y</a> <a id="666" class="Symbol">}</a>
    <a id="672" class="Keyword">where</a>
      <a id="684" href="hott.level.closure.core.html#684" class="Function">c</a> <a id="686" class="Symbol">:</a> <a id="688" class="Symbol">(</a><a id="689" href="hott.level.closure.core.html#689" class="Bound">x</a> <a id="691" class="Symbol">:</a> <a id="693" href="hott.level.closure.core.html#596" class="Bound">X</a><a id="694" class="Symbol">)(</a><a id="696" href="hott.level.closure.core.html#696" class="Bound">y</a> <a id="698" class="Symbol">:</a> <a id="700" href="hott.level.closure.core.html#603" class="Bound">Y</a> <a id="702" href="hott.level.closure.core.html#689" class="Bound">x</a><a id="703" class="Symbol">)</a> <a id="705" class="Symbol">→</a> <a id="707" class="Symbol">(</a><a id="708" href="hott.level.closure.core.html#607" class="Bound">x₀</a> <a id="711" href="sum.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="713" href="sum.html#%CE%A3.proj%E2%82%81" class="Field">proj₁</a> <a id="719" class="Symbol">(</a><a id="720" href="hott.level.closure.core.html#616" class="Bound">hY</a> <a id="723" href="hott.level.closure.core.html#607" class="Bound">x₀</a><a id="725" class="Symbol">))</a> <a id="728" href="equality.core.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="730" class="Symbol">(</a><a id="731" href="hott.level.closure.core.html#689" class="Bound">x</a> <a id="733" href="sum.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="735" href="hott.level.closure.core.html#696" class="Bound">y</a><a id="736" class="Symbol">)</a>
      <a id="744" href="hott.level.closure.core.html#684" class="Function">c</a> <a id="746" href="hott.level.closure.core.html#746" class="Bound">x</a> <a id="748" href="hott.level.closure.core.html#748" class="Bound">y</a> <a id="750" class="Symbol">=</a> <a id="752" href="equality.core.html#ap" class="Function">ap</a> <a id="755" class="Symbol">(λ</a> <a id="758" href="hott.level.closure.core.html#758" class="Bound">x</a> <a id="760" class="Symbol">→</a> <a id="762" class="Symbol">(</a><a id="763" href="hott.level.closure.core.html#758" class="Bound">x</a> <a id="765" href="sum.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="767" href="sum.html#%CE%A3.proj%E2%82%81" class="Field">proj₁</a> <a id="773" class="Symbol">(</a><a id="774" href="hott.level.closure.core.html#616" class="Bound">hY</a> <a id="777" href="hott.level.closure.core.html#758" class="Bound">x</a><a id="778" class="Symbol">)))</a> <a id="782" class="Symbol">(</a><a id="783" href="hott.level.closure.core.html#612" class="Bound">cx</a> <a id="786" href="hott.level.closure.core.html#746" class="Bound">x</a><a id="787" class="Symbol">)</a>
            <a id="801" href="equality.core.html#_%C2%B7_" class="Function Operator">·</a> <a id="803" href="equality.core.html#ap" class="Function">ap</a> <a id="806" class="Symbol">(</a><a id="807" href="sum.html#%CE%A3._%2C_" class="InductiveConstructor Operator">_,_</a> <a id="811" href="hott.level.closure.core.html#746" class="Bound">x</a><a id="812" class="Symbol">)</a> <a id="814" class="Symbol">(</a><a id="815" href="sum.html#%CE%A3.proj%E2%82%82" class="Field">proj₂</a> <a id="821" class="Symbol">(</a><a id="822" href="hott.level.closure.core.html#616" class="Bound">hY</a> <a id="825" href="hott.level.closure.core.html#746" class="Bound">x</a><a id="826" class="Symbol">)</a> <a id="828" href="hott.level.closure.core.html#748" class="Bound">y</a><a id="829" class="Symbol">)</a>

<a id="×-contr" href="hott.level.closure.core.html#%C3%97-contr" class="Function">×-contr</a> <a id="840" class="Symbol">:</a> <a id="842" class="Symbol">∀</a> <a id="844" class="Symbol">{</a><a id="845" href="hott.level.closure.core.html#845" class="Bound">i</a> <a id="847" href="hott.level.closure.core.html#847" class="Bound">j</a><a id="848" class="Symbol">}{</a><a id="850" href="hott.level.closure.core.html#850" class="Bound">X</a> <a id="852" class="Symbol">:</a> <a id="854" class="PrimitiveType">Set</a> <a id="858" href="hott.level.closure.core.html#845" class="Bound">i</a><a id="859" class="Symbol">}{</a><a id="861" href="hott.level.closure.core.html#861" class="Bound">Y</a> <a id="863" class="Symbol">:</a> <a id="865" class="PrimitiveType">Set</a> <a id="869" href="hott.level.closure.core.html#847" class="Bound">j</a><a id="870" class="Symbol">}</a>
        <a id="880" class="Symbol">→</a> <a id="882" href="hott.level.core.html#contr" class="Function">contr</a> <a id="888" href="hott.level.closure.core.html#850" class="Bound">X</a> <a id="890" class="Symbol">→</a> <a id="892" href="hott.level.core.html#contr" class="Function">contr</a> <a id="898" href="hott.level.closure.core.html#861" class="Bound">Y</a>
        <a id="908" class="Symbol">→</a> <a id="910" href="hott.level.core.html#contr" class="Function">contr</a> <a id="916" class="Symbol">(</a><a id="917" href="hott.level.closure.core.html#850" class="Bound">X</a> <a id="919" href="sum.html#_%C3%97_" class="Function Operator">×</a> <a id="921" href="hott.level.closure.core.html#861" class="Bound">Y</a><a id="922" class="Symbol">)</a>
<a id="924" href="hott.level.closure.core.html#%C3%97-contr" class="Function">×-contr</a> <a id="932" href="hott.level.closure.core.html#932" class="Bound">hX</a> <a id="935" href="hott.level.closure.core.html#935" class="Bound">hY</a> <a id="938" class="Symbol">=</a> <a id="940" href="hott.level.closure.core.html#%CE%A3-contr" class="Function">Σ-contr</a> <a id="948" href="hott.level.closure.core.html#932" class="Bound">hX</a> <a id="951" class="Symbol">(λ</a> <a id="954" href="hott.level.closure.core.html#954" class="Bound">_</a> <a id="956" class="Symbol">→</a> <a id="958" href="hott.level.closure.core.html#935" class="Bound">hY</a><a id="960" class="Symbol">)</a>

<a id="unique-contr" href="hott.level.closure.core.html#unique-contr" class="Function">unique-contr</a> <a id="976" class="Symbol">:</a> <a id="978" class="Symbol">∀</a> <a id="980" class="Symbol">{</a><a id="981" href="hott.level.closure.core.html#981" class="Bound">i</a><a id="982" class="Symbol">}{</a><a id="984" href="hott.level.closure.core.html#984" class="Bound">A</a> <a id="986" href="hott.level.closure.core.html#986" class="Bound">B</a> <a id="988" class="Symbol">:</a> <a id="990" class="PrimitiveType">Set</a> <a id="994" href="hott.level.closure.core.html#981" class="Bound">i</a><a id="995" class="Symbol">}</a>
             <a id="1010" class="Symbol">→</a> <a id="1012" href="hott.level.core.html#contr" class="Function">contr</a> <a id="1018" href="hott.level.closure.core.html#984" class="Bound">A</a>
             <a id="1033" class="Symbol">→</a> <a id="1035" href="hott.level.core.html#contr" class="Function">contr</a> <a id="1041" href="hott.level.closure.core.html#986" class="Bound">B</a>
             <a id="1056" class="Symbol">→</a> <a id="1058" href="hott.level.closure.core.html#984" class="Bound">A</a> <a id="1060" href="equality.core.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="1062" href="hott.level.closure.core.html#986" class="Bound">B</a>
<a id="1064" href="hott.level.closure.core.html#unique-contr" class="Function">unique-contr</a> <a id="1077" class="Symbol">{</a><a id="1078" href="hott.level.closure.core.html#1078" class="Bound">i</a><a id="1079" class="Symbol">}{</a><a id="1081" href="hott.level.closure.core.html#1081" class="Bound">A</a><a id="1082" class="Symbol">}{</a><a id="1084" href="hott.level.closure.core.html#1084" class="Bound">B</a><a id="1085" class="Symbol">}</a> <a id="1087" href="hott.level.closure.core.html#1087" class="Bound">hA</a> <a id="1090" href="hott.level.closure.core.html#1090" class="Bound">hB</a> <a id="1093" class="Symbol">=</a> <a id="1095" href="function.isomorphism.core.html#452" class="Function">≈⇒≡</a> <a id="1099" class="Symbol">(</a><a id="1100" href="hott.level.closure.core.html#1122" class="Function">f</a> <a id="1102" href="sum.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1104" href="hott.level.closure.core.html#1156" class="Function">f-we</a><a id="1108" class="Symbol">)</a>
  <a id="1112" class="Keyword">where</a>
    <a id="1122" href="hott.level.closure.core.html#1122" class="Function">f</a> <a id="1124" class="Symbol">:</a> <a id="1126" href="hott.level.closure.core.html#1081" class="Bound">A</a> <a id="1128" class="Symbol">→</a> <a id="1130" href="hott.level.closure.core.html#1084" class="Bound">B</a>
    <a id="1136" href="hott.level.closure.core.html#1122" class="Function">f</a> <a id="1138" class="Symbol">_</a> <a id="1140" class="Symbol">=</a> <a id="1142" href="sum.html#%CE%A3.proj%E2%82%81" class="Field">proj₁</a> <a id="1148" href="hott.level.closure.core.html#1090" class="Bound">hB</a>

    <a id="1156" href="hott.level.closure.core.html#1156" class="Function">f-we</a> <a id="1161" class="Symbol">:</a> <a id="1163" href="hott.equivalence.core.html#weak-equiv" class="Function">weak-equiv</a> <a id="1174" href="hott.level.closure.core.html#1122" class="Function">f</a>
    <a id="1180" href="hott.level.closure.core.html#1156" class="Function">f-we</a> <a id="1185" href="hott.level.closure.core.html#1185" class="Bound">b</a> <a id="1187" class="Symbol">=</a> <a id="1189" href="hott.level.closure.core.html#%C3%97-contr" class="Function">×-contr</a> <a id="1197" href="hott.level.closure.core.html#1087" class="Bound">hA</a> <a id="1200" class="Symbol">(</a><a id="1201" href="hott.level.core.html#h%E2%86%91" class="Function">h↑</a> <a id="1204" href="hott.level.closure.core.html#1090" class="Bound">hB</a> <a id="1207" class="Symbol">_</a> <a id="1209" class="Symbol">_)</a>

<a id="h-≤" href="hott.level.closure.core.html#h-%E2%89%A4" class="Function">h-≤</a> <a id="1217" class="Symbol">:</a> <a id="1219" class="Symbol">∀</a> <a id="1221" class="Symbol">{</a><a id="1222" href="hott.level.closure.core.html#1222" class="Bound">i</a> <a id="1224" href="hott.level.closure.core.html#1224" class="Bound">n</a> <a id="1226" href="hott.level.closure.core.html#1226" class="Bound">m</a><a id="1227" class="Symbol">}{</a><a id="1229" href="hott.level.closure.core.html#1229" class="Bound">X</a> <a id="1231" class="Symbol">:</a> <a id="1233" class="PrimitiveType">Set</a> <a id="1237" href="hott.level.closure.core.html#1222" class="Bound">i</a><a id="1238" class="Symbol">}</a>
    <a id="1244" class="Symbol">→</a> <a id="1246" href="hott.level.closure.core.html#1224" class="Bound">n</a> <a id="1248" href="sets.nat.ordering.leq.core.html#_%E2%89%A4_" class="Datatype Operator">≤</a> <a id="1250" href="hott.level.closure.core.html#1226" class="Bound">m</a> <a id="1252" class="Symbol">→</a> <a id="1254" href="hott.level.core.html#h" class="Function">h</a> <a id="1256" href="hott.level.closure.core.html#1224" class="Bound">n</a> <a id="1258" href="hott.level.closure.core.html#1229" class="Bound">X</a> <a id="1260" class="Symbol">→</a> <a id="1262" href="hott.level.core.html#h" class="Function">h</a> <a id="1264" href="hott.level.closure.core.html#1226" class="Bound">m</a> <a id="1266" href="hott.level.closure.core.html#1229" class="Bound">X</a>
<a id="1268" href="hott.level.closure.core.html#h-%E2%89%A4" class="Function">h-≤</a> <a id="1272" class="Symbol">{</a><a id="1273" class="Argument">m</a> <a id="1275" class="Symbol">=</a> <a id="1277" class="Number">0</a><a id="1278" class="Symbol">}</a> <a id="1280" href="sets.nat.ordering.leq.core.html#_%E2%89%A4_.z%E2%89%A4n" class="InductiveConstructor">z≤n</a> <a id="1284" href="hott.level.closure.core.html#1284" class="Bound">hX</a> <a id="1287" class="Symbol">=</a> <a id="1289" href="hott.level.closure.core.html#1284" class="Bound">hX</a>
<a id="1292" href="hott.level.closure.core.html#h-%E2%89%A4" class="Function">h-≤</a> <a id="1296" class="Symbol">{</a><a id="1297" class="Argument">m</a> <a id="1299" class="Symbol">=</a> <a id="1301" href="sets.nat.core.html#%E2%84%95.suc" class="InductiveConstructor">suc</a> <a id="1305" href="hott.level.closure.core.html#1305" class="Bound">m</a><a id="1306" class="Symbol">}</a> <a id="1308" href="sets.nat.ordering.leq.core.html#_%E2%89%A4_.z%E2%89%A4n" class="InductiveConstructor">z≤n</a> <a id="1312" href="hott.level.closure.core.html#1312" class="Bound">hX</a> <a id="1315" class="Symbol">=</a> <a id="1317" class="Symbol">λ</a> <a id="1319" href="hott.level.closure.core.html#1319" class="Bound">x</a> <a id="1321" href="hott.level.closure.core.html#1321" class="Bound">y</a>
  <a id="1325" class="Symbol">→</a> <a id="1327" href="hott.level.closure.core.html#h-%E2%89%A4" class="Function">h-≤</a> <a id="1331" class="Symbol">{</a><a id="1332" class="Argument">m</a> <a id="1334" class="Symbol">=</a> <a id="1336" href="hott.level.closure.core.html#1305" class="Bound">m</a><a id="1337" class="Symbol">}</a> <a id="1339" href="sets.nat.ordering.leq.core.html#_%E2%89%A4_.z%E2%89%A4n" class="InductiveConstructor">z≤n</a> <a id="1343" class="Symbol">(</a><a id="1344" href="hott.level.core.html#h%E2%86%91" class="Function">h↑</a> <a id="1347" href="hott.level.closure.core.html#1312" class="Bound">hX</a> <a id="1350" href="hott.level.closure.core.html#1319" class="Bound">x</a> <a id="1352" href="hott.level.closure.core.html#1321" class="Bound">y</a><a id="1353" class="Symbol">)</a>
<a id="1355" href="hott.level.closure.core.html#h-%E2%89%A4" class="Function">h-≤</a> <a id="1359" class="Symbol">(</a><a id="1360" href="sets.nat.ordering.leq.core.html#_%E2%89%A4_.s%E2%89%A4s" class="InductiveConstructor">s≤s</a> <a id="1364" href="hott.level.closure.core.html#1364" class="Bound">p</a><a id="1365" class="Symbol">)</a> <a id="1367" href="hott.level.closure.core.html#1367" class="Bound">hX</a> <a id="1370" class="Symbol">=</a> <a id="1372" class="Symbol">λ</a> <a id="1374" href="hott.level.closure.core.html#1374" class="Bound">x</a> <a id="1376" href="hott.level.closure.core.html#1376" class="Bound">y</a>
  <a id="1380" class="Symbol">→</a> <a id="1382" href="hott.level.closure.core.html#h-%E2%89%A4" class="Function">h-≤</a> <a id="1386" href="hott.level.closure.core.html#1364" class="Bound">p</a> <a id="1388" class="Symbol">(</a><a id="1389" href="hott.level.closure.core.html#1367" class="Bound">hX</a> <a id="1392" href="hott.level.closure.core.html#1374" class="Bound">x</a> <a id="1394" href="hott.level.closure.core.html#1376" class="Bound">y</a><a id="1395" class="Symbol">)</a>

<a id="h!" href="hott.level.closure.core.html#h%21" class="Function">h!</a> <a id="1401" class="Symbol">:</a> <a id="1403" class="Symbol">∀</a> <a id="1405" class="Symbol">{</a><a id="1406" href="hott.level.closure.core.html#1406" class="Bound">i</a> <a id="1408" href="hott.level.closure.core.html#1408" class="Bound">n</a> <a id="1410" href="hott.level.closure.core.html#1410" class="Bound">m</a><a id="1411" class="Symbol">}{</a><a id="1413" href="hott.level.closure.core.html#1413" class="Bound">X</a> <a id="1415" class="Symbol">:</a> <a id="1417" class="PrimitiveType">Set</a> <a id="1421" href="hott.level.closure.core.html#1406" class="Bound">i</a><a id="1422" class="Symbol">}</a>
   <a id="1427" class="Symbol">→</a> <a id="1429" class="Symbol">{</a><a id="1430" href="hott.level.closure.core.html#1430" class="Bound">p</a> <a id="1432" class="Symbol">:</a> <a id="1434" href="decidable.html#True" class="Function">True</a> <a id="1439" class="Symbol">(</a><a id="1440" href="hott.level.closure.core.html#1408" class="Bound">n</a> <a id="1442" href="sets.nat.ordering.leq.decide.html#_%E2%89%A4%3F_" class="Function Operator">≤?</a> <a id="1445" href="hott.level.closure.core.html#1410" class="Bound">m</a><a id="1446" class="Symbol">)}</a>
   <a id="1452" class="Symbol">→</a> <a id="1454" href="hott.level.core.html#h" class="Function">h</a> <a id="1456" href="hott.level.closure.core.html#1408" class="Bound">n</a> <a id="1458" href="hott.level.closure.core.html#1413" class="Bound">X</a> <a id="1460" class="Symbol">→</a> <a id="1462" href="hott.level.core.html#h" class="Function">h</a> <a id="1464" href="hott.level.closure.core.html#1410" class="Bound">m</a> <a id="1466" href="hott.level.closure.core.html#1413" class="Bound">X</a>
<a id="1468" href="hott.level.closure.core.html#h%21" class="Function">h!</a> <a id="1471" class="Symbol">{</a><a id="1472" class="Argument">p</a> <a id="1474" class="Symbol">=</a> <a id="1476" href="hott.level.closure.core.html#1476" class="Bound">p</a><a id="1477" class="Symbol">}</a> <a id="1479" class="Symbol">=</a> <a id="1481" href="hott.level.closure.core.html#h-%E2%89%A4" class="Function">h-≤</a> <a id="1485" class="Symbol">(</a><a id="1486" href="decidable.html#witness" class="Function">witness</a> <a id="1494" href="hott.level.closure.core.html#1476" class="Bound">p</a><a id="1495" class="Symbol">)</a>

<a id="1498" class="Keyword">abstract</a>
  <a id="1509" class="Comment">-- retractions preserve levels</a>
  <a id="retract-level" href="hott.level.closure.core.html#retract-level" class="Function">retract-level</a> <a id="1556" class="Symbol">:</a> <a id="1558" class="Symbol">∀</a> <a id="1560" class="Symbol">{</a><a id="1561" href="hott.level.closure.core.html#1561" class="Bound">i</a> <a id="1563" href="hott.level.closure.core.html#1563" class="Bound">j</a> <a id="1565" href="hott.level.closure.core.html#1565" class="Bound">n</a><a id="1566" class="Symbol">}</a> <a id="1568" class="Symbol">{</a><a id="1569" href="hott.level.closure.core.html#1569" class="Bound">X</a> <a id="1571" class="Symbol">:</a> <a id="1573" class="PrimitiveType">Set</a> <a id="1577" href="hott.level.closure.core.html#1561" class="Bound">i</a><a id="1578" class="Symbol">}{</a><a id="1580" href="hott.level.closure.core.html#1580" class="Bound">Y</a> <a id="1582" class="Symbol">:</a> <a id="1584" class="PrimitiveType">Set</a> <a id="1588" href="hott.level.closure.core.html#1563" class="Bound">j</a><a id="1589" class="Symbol">}</a>
                 <a id="1608" class="Symbol">→</a> <a id="1610" class="Symbol">(</a><a id="1611" href="hott.level.closure.core.html#1611" class="Bound">f</a> <a id="1613" class="Symbol">:</a> <a id="1615" href="hott.level.closure.core.html#1569" class="Bound">X</a> <a id="1617" class="Symbol">→</a> <a id="1619" href="hott.level.closure.core.html#1580" class="Bound">Y</a><a id="1620" class="Symbol">)(</a><a id="1622" href="hott.level.closure.core.html#1622" class="Bound">g</a> <a id="1624" class="Symbol">:</a> <a id="1626" href="hott.level.closure.core.html#1580" class="Bound">Y</a> <a id="1628" class="Symbol">→</a> <a id="1630" href="hott.level.closure.core.html#1569" class="Bound">X</a><a id="1631" class="Symbol">)</a>
                 <a id="1650" class="Symbol">→</a> <a id="1652" class="Symbol">((</a><a id="1654" href="hott.level.closure.core.html#1654" class="Bound">y</a> <a id="1656" class="Symbol">:</a> <a id="1658" href="hott.level.closure.core.html#1580" class="Bound">Y</a><a id="1659" class="Symbol">)</a> <a id="1661" class="Symbol">→</a> <a id="1663" href="hott.level.closure.core.html#1611" class="Bound">f</a> <a id="1665" class="Symbol">(</a><a id="1666" href="hott.level.closure.core.html#1622" class="Bound">g</a> <a id="1668" href="hott.level.closure.core.html#1654" class="Bound">y</a><a id="1669" class="Symbol">)</a> <a id="1671" href="equality.core.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="1673" href="hott.level.closure.core.html#1654" class="Bound">y</a><a id="1674" class="Symbol">)</a>
                 <a id="1693" class="Symbol">→</a> <a id="1695" href="hott.level.core.html#h" class="Function">h</a> <a id="1697" href="hott.level.closure.core.html#1565" class="Bound">n</a> <a id="1699" href="hott.level.closure.core.html#1569" class="Bound">X</a> <a id="1701" class="Symbol">→</a> <a id="1703" href="hott.level.core.html#h" class="Function">h</a> <a id="1705" href="hott.level.closure.core.html#1565" class="Bound">n</a> <a id="1707" href="hott.level.closure.core.html#1580" class="Bound">Y</a>
  <a id="1711" href="hott.level.closure.core.html#retract-level" class="Function">retract-level</a> <a id="1725" class="Symbol">{</a><a id="1726" class="Argument">n</a> <a id="1728" class="Symbol">=</a> <a id="1730" class="Number">0</a><a id="1731" class="Symbol">}{</a><a id="1733" href="hott.level.closure.core.html#1733" class="Bound">X</a><a id="1734" class="Symbol">}{</a><a id="1736" href="hott.level.closure.core.html#1736" class="Bound">Y</a><a id="1737" class="Symbol">}</a> <a id="1739" href="hott.level.closure.core.html#1739" class="Bound">f</a> <a id="1741" href="hott.level.closure.core.html#1741" class="Bound">g</a> <a id="1743" href="hott.level.closure.core.html#1743" class="Bound">r</a> <a id="1745" class="Symbol">(</a><a id="1746" href="hott.level.closure.core.html#1746" class="Bound">x</a> <a id="1748" href="sum.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1750" href="hott.level.closure.core.html#1750" class="Bound">c</a><a id="1751" class="Symbol">)</a> <a id="1753" class="Symbol">=</a> <a id="1755" class="Symbol">(</a><a id="1756" href="hott.level.closure.core.html#1739" class="Bound">f</a> <a id="1758" href="hott.level.closure.core.html#1746" class="Bound">x</a> <a id="1760" href="sum.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1762" href="hott.level.closure.core.html#1782" class="Function">c&#39;</a><a id="1764" class="Symbol">)</a>
    <a id="1770" class="Keyword">where</a>
      <a id="1782" href="hott.level.closure.core.html#1782" class="Function">c&#39;</a> <a id="1785" class="Symbol">:</a> <a id="1787" class="Symbol">(</a><a id="1788" href="hott.level.closure.core.html#1788" class="Bound">y</a> <a id="1790" class="Symbol">:</a> <a id="1792" href="hott.level.closure.core.html#1736" class="Bound">Y</a><a id="1793" class="Symbol">)</a> <a id="1795" class="Symbol">→</a> <a id="1797" href="hott.level.closure.core.html#1739" class="Bound">f</a> <a id="1799" href="hott.level.closure.core.html#1746" class="Bound">x</a> <a id="1801" href="equality.core.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="1803" href="hott.level.closure.core.html#1788" class="Bound">y</a>
      <a id="1811" href="hott.level.closure.core.html#1782" class="Function">c&#39;</a> <a id="1814" href="hott.level.closure.core.html#1814" class="Bound">y</a> <a id="1816" class="Symbol">=</a> <a id="1818" href="equality.core.html#ap" class="Function">ap</a> <a id="1821" href="hott.level.closure.core.html#1739" class="Bound">f</a> <a id="1823" class="Symbol">(</a><a id="1824" href="hott.level.closure.core.html#1750" class="Bound">c</a> <a id="1826" class="Symbol">(</a><a id="1827" href="hott.level.closure.core.html#1741" class="Bound">g</a> <a id="1829" href="hott.level.closure.core.html#1814" class="Bound">y</a><a id="1830" class="Symbol">))</a> <a id="1833" href="equality.core.html#_%C2%B7_" class="Function Operator">·</a> <a id="1835" href="hott.level.closure.core.html#1743" class="Bound">r</a> <a id="1837" href="hott.level.closure.core.html#1814" class="Bound">y</a>
  <a id="1841" href="hott.level.closure.core.html#retract-level" class="Function">retract-level</a> <a id="1855" class="Symbol">{</a><a id="1856" class="Argument">n</a> <a id="1858" class="Symbol">=</a> <a id="1860" href="sets.nat.core.html#%E2%84%95.suc" class="InductiveConstructor">suc</a> <a id="1864" href="hott.level.closure.core.html#1864" class="Bound">n</a><a id="1865" class="Symbol">}{</a><a id="1867" href="hott.level.closure.core.html#1867" class="Bound">X</a><a id="1868" class="Symbol">}{</a><a id="1870" href="hott.level.closure.core.html#1870" class="Bound">Y</a><a id="1871" class="Symbol">}</a> <a id="1873" href="hott.level.closure.core.html#1873" class="Bound">f</a> <a id="1875" href="hott.level.closure.core.html#1875" class="Bound">g</a> <a id="1877" href="hott.level.closure.core.html#1877" class="Bound">r</a> <a id="1879" href="hott.level.closure.core.html#1879" class="Bound">hX</a> <a id="1882" class="Symbol">=</a> <a id="1884" class="Symbol">λ</a> <a id="1886" href="hott.level.closure.core.html#1886" class="Bound">y</a> <a id="1888" href="hott.level.closure.core.html#1888" class="Bound">y&#39;</a>
    <a id="1895" class="Symbol">→</a> <a id="1897" href="hott.level.closure.core.html#retract-level" class="Function">retract-level</a> <a id="1911" href="hott.level.closure.core.html#1954" class="Function">f&#39;</a> <a id="1914" href="hott.level.closure.core.html#2046" class="Function">g&#39;</a> <a id="1917" href="hott.level.closure.core.html#2107" class="Function">r&#39;</a> <a id="1920" class="Symbol">(</a><a id="1921" href="hott.level.closure.core.html#1879" class="Bound">hX</a> <a id="1924" class="Symbol">(</a><a id="1925" href="hott.level.closure.core.html#1875" class="Bound">g</a> <a id="1927" href="hott.level.closure.core.html#1886" class="Bound">y</a><a id="1928" class="Symbol">)</a> <a id="1930" class="Symbol">(</a><a id="1931" href="hott.level.closure.core.html#1875" class="Bound">g</a> <a id="1933" href="hott.level.closure.core.html#1888" class="Bound">y&#39;</a><a id="1935" class="Symbol">))</a>
    <a id="1942" class="Keyword">where</a>
      <a id="1954" href="hott.level.closure.core.html#1954" class="Function">f&#39;</a> <a id="1957" class="Symbol">:</a> <a id="1959" class="Symbol">{</a><a id="1960" href="hott.level.closure.core.html#1960" class="Bound">y</a> <a id="1962" href="hott.level.closure.core.html#1962" class="Bound">y&#39;</a> <a id="1965" class="Symbol">:</a> <a id="1967" href="hott.level.closure.core.html#1870" class="Bound">Y</a><a id="1968" class="Symbol">}</a> <a id="1970" class="Symbol">→</a> <a id="1972" href="hott.level.closure.core.html#1875" class="Bound">g</a> <a id="1974" href="hott.level.closure.core.html#1960" class="Bound">y</a> <a id="1976" href="equality.core.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="1978" href="hott.level.closure.core.html#1875" class="Bound">g</a> <a id="1980" href="hott.level.closure.core.html#1962" class="Bound">y&#39;</a> <a id="1983" class="Symbol">→</a> <a id="1985" href="hott.level.closure.core.html#1960" class="Bound">y</a> <a id="1987" href="equality.core.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="1989" href="hott.level.closure.core.html#1962" class="Bound">y&#39;</a>
      <a id="1998" href="hott.level.closure.core.html#1954" class="Function">f&#39;</a> <a id="2001" class="Symbol">{</a><a id="2002" href="hott.level.closure.core.html#2002" class="Bound">y</a><a id="2003" class="Symbol">}{</a><a id="2005" href="hott.level.closure.core.html#2005" class="Bound">y&#39;</a><a id="2007" class="Symbol">}</a> <a id="2009" href="hott.level.closure.core.html#2009" class="Bound">p</a> <a id="2011" class="Symbol">=</a> <a id="2013" href="equality.core.html#sym" class="Function">sym</a> <a id="2017" class="Symbol">(</a><a id="2018" href="hott.level.closure.core.html#1877" class="Bound">r</a> <a id="2020" href="hott.level.closure.core.html#2002" class="Bound">y</a><a id="2021" class="Symbol">)</a> <a id="2023" href="equality.core.html#_%C2%B7_" class="Function Operator">·</a> <a id="2025" href="equality.core.html#ap" class="Function">ap</a> <a id="2028" href="hott.level.closure.core.html#1873" class="Bound">f</a> <a id="2030" href="hott.level.closure.core.html#2009" class="Bound">p</a> <a id="2032" href="equality.core.html#_%C2%B7_" class="Function Operator">·</a> <a id="2034" href="hott.level.closure.core.html#1877" class="Bound">r</a> <a id="2036" href="hott.level.closure.core.html#2005" class="Bound">y&#39;</a>

      <a id="2046" href="hott.level.closure.core.html#2046" class="Function">g&#39;</a> <a id="2049" class="Symbol">:</a> <a id="2051" class="Symbol">{</a><a id="2052" href="hott.level.closure.core.html#2052" class="Bound">y</a> <a id="2054" href="hott.level.closure.core.html#2054" class="Bound">y&#39;</a> <a id="2057" class="Symbol">:</a> <a id="2059" href="hott.level.closure.core.html#1870" class="Bound">Y</a><a id="2060" class="Symbol">}</a> <a id="2062" class="Symbol">→</a> <a id="2064" href="hott.level.closure.core.html#2052" class="Bound">y</a> <a id="2066" href="equality.core.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="2068" href="hott.level.closure.core.html#2054" class="Bound">y&#39;</a> <a id="2071" class="Symbol">→</a> <a id="2073" href="hott.level.closure.core.html#1875" class="Bound">g</a> <a id="2075" href="hott.level.closure.core.html#2052" class="Bound">y</a> <a id="2077" href="equality.core.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="2079" href="hott.level.closure.core.html#1875" class="Bound">g</a> <a id="2081" href="hott.level.closure.core.html#2054" class="Bound">y&#39;</a>
      <a id="2090" href="hott.level.closure.core.html#2046" class="Function">g&#39;</a> <a id="2093" class="Symbol">=</a> <a id="2095" href="equality.core.html#ap" class="Function">ap</a> <a id="2098" href="hott.level.closure.core.html#1875" class="Bound">g</a>

      <a id="2107" href="hott.level.closure.core.html#2107" class="Function">r&#39;</a> <a id="2110" class="Symbol">:</a> <a id="2112" class="Symbol">{</a><a id="2113" href="hott.level.closure.core.html#2113" class="Bound">y</a> <a id="2115" href="hott.level.closure.core.html#2115" class="Bound">y&#39;</a> <a id="2118" class="Symbol">:</a> <a id="2120" href="hott.level.closure.core.html#1870" class="Bound">Y</a><a id="2121" class="Symbol">}(</a><a id="2123" href="hott.level.closure.core.html#2123" class="Bound">p</a> <a id="2125" class="Symbol">:</a> <a id="2127" href="hott.level.closure.core.html#2113" class="Bound">y</a> <a id="2129" href="equality.core.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="2131" href="hott.level.closure.core.html#2115" class="Bound">y&#39;</a><a id="2133" class="Symbol">)</a> <a id="2135" class="Symbol">→</a> <a id="2137" href="hott.level.closure.core.html#1954" class="Function">f&#39;</a> <a id="2140" class="Symbol">(</a><a id="2141" href="hott.level.closure.core.html#2046" class="Function">g&#39;</a> <a id="2144" href="hott.level.closure.core.html#2123" class="Bound">p</a><a id="2145" class="Symbol">)</a> <a id="2147" href="equality.core.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="2149" href="hott.level.closure.core.html#2123" class="Bound">p</a>
      <a id="2157" href="hott.level.closure.core.html#2107" class="Function">r&#39;</a> <a id="2160" class="Symbol">{</a><a id="2161" href="hott.level.closure.core.html#2161" class="Bound">y</a><a id="2162" class="Symbol">}{</a><a id="2164" class="DottedPattern Symbol">.</a><a id="2165" href="hott.level.closure.core.html#2161" class="DottedPattern Bound">y</a><a id="2166" class="Symbol">}</a> <a id="2168" href="equality.core.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a> <a id="2173" class="Symbol">=</a> <a id="2175" href="equality.core.html#ap" class="Function">ap</a> <a id="2178" class="Symbol">(λ</a> <a id="2181" href="hott.level.closure.core.html#2181" class="Bound">α</a> <a id="2183" class="Symbol">→</a> <a id="2185" href="hott.level.closure.core.html#2181" class="Bound">α</a> <a id="2187" href="equality.core.html#_%C2%B7_" class="Function Operator">·</a> <a id="2189" href="hott.level.closure.core.html#1877" class="Bound">r</a> <a id="2191" href="hott.level.closure.core.html#2161" class="Bound">y</a><a id="2192" class="Symbol">)</a> <a id="2194" class="Symbol">(</a><a id="2195" href="equality.groupoid.html#left-unit" class="Function">left-unit</a> <a id="2205" class="Symbol">(</a><a id="2206" href="equality.core.html#sym" class="Function">sym</a> <a id="2210" class="Symbol">(</a><a id="2211" href="hott.level.closure.core.html#1877" class="Bound">r</a> <a id="2213" href="hott.level.closure.core.html#2161" class="Bound">y</a><a id="2214" class="Symbol">)))</a>
                      <a id="2240" href="equality.core.html#_%C2%B7_" class="Function Operator">·</a> <a id="2242" href="equality.groupoid.html#right-inverse" class="Function">right-inverse</a> <a id="2256" class="Symbol">(</a><a id="2257" href="hott.level.closure.core.html#1877" class="Bound">r</a> <a id="2259" href="hott.level.closure.core.html#2161" class="Bound">y</a><a id="2260" class="Symbol">)</a>

  <a id="iso-level" href="hott.level.closure.core.html#iso-level" class="Function">iso-level</a> <a id="2275" class="Symbol">:</a> <a id="2277" class="Symbol">∀</a> <a id="2279" class="Symbol">{</a><a id="2280" href="hott.level.closure.core.html#2280" class="Bound">i</a> <a id="2282" href="hott.level.closure.core.html#2282" class="Bound">j</a> <a id="2284" href="hott.level.closure.core.html#2284" class="Bound">n</a><a id="2285" class="Symbol">}{</a><a id="2287" href="hott.level.closure.core.html#2287" class="Bound">X</a> <a id="2289" class="Symbol">:</a> <a id="2291" class="PrimitiveType">Set</a> <a id="2295" href="hott.level.closure.core.html#2280" class="Bound">i</a><a id="2296" class="Symbol">}{</a><a id="2298" href="hott.level.closure.core.html#2298" class="Bound">Y</a> <a id="2300" class="Symbol">:</a> <a id="2302" class="PrimitiveType">Set</a> <a id="2306" href="hott.level.closure.core.html#2282" class="Bound">j</a><a id="2307" class="Symbol">}</a>
             <a id="2322" class="Symbol">→</a> <a id="2324" href="hott.level.closure.core.html#2287" class="Bound">X</a> <a id="2326" href="function.isomorphism.core.html#_%E2%89%85_" class="Record Operator">≅</a> <a id="2328" href="hott.level.closure.core.html#2298" class="Bound">Y</a> <a id="2330" class="Symbol">→</a> <a id="2332" href="hott.level.core.html#h" class="Function">h</a> <a id="2334" href="hott.level.closure.core.html#2284" class="Bound">n</a> <a id="2336" href="hott.level.closure.core.html#2287" class="Bound">X</a> <a id="2338" class="Symbol">→</a> <a id="2340" href="hott.level.core.html#h" class="Function">h</a> <a id="2342" href="hott.level.closure.core.html#2284" class="Bound">n</a> <a id="2344" href="hott.level.closure.core.html#2298" class="Bound">Y</a>
  <a id="2348" href="hott.level.closure.core.html#iso-level" class="Function">iso-level</a> <a id="2358" class="Symbol">(</a><a id="2359" href="function.isomorphism.core.html#_%E2%89%85_.iso" class="InductiveConstructor">iso</a> <a id="2363" href="hott.level.closure.core.html#2363" class="Bound">f</a> <a id="2365" href="hott.level.closure.core.html#2365" class="Bound">g</a> <a id="2367" href="hott.level.closure.core.html#2367" class="Bound">H</a> <a id="2369" href="hott.level.closure.core.html#2369" class="Bound">K</a><a id="2370" class="Symbol">)</a> <a id="2372" class="Symbol">=</a> <a id="2374" href="hott.level.closure.core.html#retract-level" class="Function">retract-level</a> <a id="2388" href="hott.level.closure.core.html#2363" class="Bound">f</a> <a id="2390" href="hott.level.closure.core.html#2365" class="Bound">g</a> <a id="2392" href="hott.level.closure.core.html#2369" class="Bound">K</a>
</pre></body></html>