<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>hott.equivalence.core</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Option">--without-K</a> <a id="25" class="Symbol">#-}</a>
<a id="29" class="Keyword">module</a> <a id="36" href="hott.equivalence.core.html" class="Module">hott.equivalence.core</a> <a id="58" class="Keyword">where</a>

<a id="65" class="Keyword">open</a> <a id="70" class="Keyword">import</a> <a id="77" href="equality.core.html" class="Module">equality.core</a> <a id="91" class="Keyword">using</a> <a id="97" class="Symbol">(</a><a id="98" href="equality.core.html#_%E2%89%A1_" class="Datatype Operator">_≡_</a> <a id="102" class="Symbol">;</a> <a id="104" href="equality.core.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a> <a id="109" class="Symbol">;</a> <a id="111" href="equality.core.html#ap" class="Function">ap</a><a id="113" class="Symbol">)</a>
<a id="115" class="Keyword">open</a> <a id="120" class="Keyword">import</a> <a id="127" href="sum.html" class="Module">sum</a> <a id="131" class="Keyword">using</a> <a id="137" class="Symbol">(</a><a id="138" href="sum.html#%CE%A3" class="Record">Σ</a> <a id="140" class="Symbol">;</a> <a id="142" href="sum.html#%CE%A3.proj%E2%82%81" class="Field">proj₁</a> <a id="148" class="Symbol">;</a> <a id="150" href="sum.html#%CE%A3.proj%E2%82%82" class="Field">proj₂</a> <a id="156" class="Symbol">;</a> <a id="158" href="sum.html#%CE%A3._%2C_" class="InductiveConstructor Operator">_,_</a><a id="161" class="Symbol">)</a>
<a id="163" class="Keyword">open</a> <a id="168" class="Keyword">import</a> <a id="175" href="level.html" class="Module">level</a> <a id="181" class="Keyword">using</a> <a id="187" class="Symbol">(</a><a id="188" href="Agda.Primitive.html#_%E2%8A%94_" class="Primitive Operator">_⊔_</a><a id="191" class="Symbol">)</a>
<a id="193" class="Keyword">open</a> <a id="198" class="Keyword">import</a> <a id="205" href="hott.level.core.html" class="Module">hott.level.core</a> <a id="221" class="Keyword">using</a> <a id="227" class="Symbol">(</a><a id="228" href="hott.level.core.html#contr" class="Function">contr</a> <a id="234" class="Symbol">;</a> <a id="236" href="hott.level.core.html#prop" class="Function">prop</a> <a id="241" class="Symbol">;</a> <a id="243" href="hott.level.core.html#_%E2%81%BB%C2%B9_" class="Function Operator">_⁻¹_</a><a id="247" class="Symbol">)</a>
<a id="249" class="Keyword">open</a> <a id="254" class="Keyword">import</a> <a id="261" href="function.core.html" class="Module">function.core</a> <a id="275" class="Keyword">using</a> <a id="281" class="Symbol">(</a><a id="282" href="function.core.html#_%24_" class="Function Operator">_$_</a><a id="285" class="Symbol">)</a>
<a id="287" class="Keyword">open</a> <a id="292" class="Keyword">import</a> <a id="299" href="function.isomorphism.core.html" class="Module">function.isomorphism.core</a> <a id="325" class="Keyword">using</a> <a id="331" class="Symbol">(</a><a id="332" href="function.isomorphism.core.html#_%E2%89%85_" class="Record Operator">_≅_</a> <a id="336" class="Symbol">;</a> <a id="338" href="function.isomorphism.core.html#_%E2%89%85_.iso" class="InductiveConstructor">iso</a><a id="341" class="Symbol">)</a>

<a id="344" class="Comment">-- a function is a weak equivalence, if the inverse images of all points are contractible</a>
<a id="weak-equiv" href="hott.equivalence.core.html#weak-equiv" class="Function">weak-equiv</a> <a id="445" class="Symbol">:</a> <a id="447" class="Symbol">∀</a> <a id="449" class="Symbol">{</a><a id="450" href="hott.equivalence.core.html#450" class="Bound">i</a> <a id="452" href="hott.equivalence.core.html#452" class="Bound">k</a><a id="453" class="Symbol">}</a> <a id="455" class="Symbol">{</a><a id="456" href="hott.equivalence.core.html#456" class="Bound">X</a> <a id="458" class="Symbol">:</a> <a id="460" class="PrimitiveType">Set</a> <a id="464" href="hott.equivalence.core.html#450" class="Bound">i</a><a id="465" class="Symbol">}</a> <a id="467" class="Symbol">{</a><a id="468" href="hott.equivalence.core.html#468" class="Bound">Y</a> <a id="470" class="Symbol">:</a> <a id="472" class="PrimitiveType">Set</a> <a id="476" href="hott.equivalence.core.html#452" class="Bound">k</a><a id="477" class="Symbol">}</a> <a id="479" class="Symbol">(</a><a id="480" href="hott.equivalence.core.html#480" class="Bound">f</a> <a id="482" class="Symbol">:</a> <a id="484" href="hott.equivalence.core.html#456" class="Bound">X</a> <a id="486" class="Symbol">→</a> <a id="488" href="hott.equivalence.core.html#468" class="Bound">Y</a><a id="489" class="Symbol">)</a> <a id="491" class="Symbol">→</a> <a id="493" class="PrimitiveType">Set</a> <a id="497" class="Symbol">(</a><a id="498" href="hott.equivalence.core.html#450" class="Bound">i</a> <a id="500" href="Agda.Primitive.html#_%E2%8A%94_" class="Primitive Operator">⊔</a> <a id="502" href="hott.equivalence.core.html#452" class="Bound">k</a><a id="503" class="Symbol">)</a>
<a id="505" href="hott.equivalence.core.html#weak-equiv" class="Function">weak-equiv</a> <a id="516" class="Symbol">{_}</a> <a id="520" class="Symbol">{_}</a> <a id="524" class="Symbol">{</a><a id="525" href="hott.equivalence.core.html#525" class="Bound">X</a><a id="526" class="Symbol">}</a> <a id="528" class="Symbol">{</a><a id="529" href="hott.equivalence.core.html#529" class="Bound">Y</a><a id="530" class="Symbol">}</a> <a id="532" href="hott.equivalence.core.html#532" class="Bound">f</a> <a id="534" class="Symbol">=</a> <a id="536" class="Symbol">(</a><a id="537" href="hott.equivalence.core.html#537" class="Bound">y</a> <a id="539" class="Symbol">:</a> <a id="541" href="hott.equivalence.core.html#529" class="Bound">Y</a><a id="542" class="Symbol">)</a> <a id="544" class="Symbol">→</a> <a id="546" href="hott.level.core.html#contr" class="Function">contr</a> <a id="552" href="function.core.html#_%24_" class="Function Operator">$</a> <a id="554" href="hott.equivalence.core.html#532" class="Bound">f</a> <a id="556" href="hott.level.core.html#_%E2%81%BB%C2%B9_" class="Function Operator">⁻¹</a> <a id="559" href="hott.equivalence.core.html#537" class="Bound">y</a>

<a id="562" class="Comment">-- weak equivalences</a>
<a id="_≈_" href="hott.equivalence.core.html#_%E2%89%88_" class="Function Operator">_≈_</a> <a id="587" class="Symbol">:</a> <a id="589" class="Symbol">∀</a> <a id="591" class="Symbol">{</a><a id="592" href="hott.equivalence.core.html#592" class="Bound">i</a> <a id="594" href="hott.equivalence.core.html#594" class="Bound">j</a><a id="595" class="Symbol">}</a> <a id="597" class="Symbol">(</a><a id="598" href="hott.equivalence.core.html#598" class="Bound">X</a> <a id="600" class="Symbol">:</a> <a id="602" class="PrimitiveType">Set</a> <a id="606" href="hott.equivalence.core.html#592" class="Bound">i</a><a id="607" class="Symbol">)</a> <a id="609" class="Symbol">(</a><a id="610" href="hott.equivalence.core.html#610" class="Bound">Y</a> <a id="612" class="Symbol">:</a> <a id="614" class="PrimitiveType">Set</a> <a id="618" href="hott.equivalence.core.html#594" class="Bound">j</a><a id="619" class="Symbol">)</a> <a id="621" class="Symbol">→</a> <a id="623" class="PrimitiveType">Set</a> <a id="627" class="Symbol">_</a>
<a id="629" href="hott.equivalence.core.html#629" class="Bound">X</a> <a id="631" href="hott.equivalence.core.html#_%E2%89%88_" class="Function Operator">≈</a> <a id="633" href="hott.equivalence.core.html#633" class="Bound">Y</a> <a id="635" class="Symbol">=</a> <a id="637" href="sum.html#%CE%A3" class="Record">Σ</a> <a id="639" class="Symbol">(</a><a id="640" href="hott.equivalence.core.html#629" class="Bound">X</a> <a id="642" class="Symbol">→</a> <a id="644" href="hott.equivalence.core.html#633" class="Bound">Y</a><a id="645" class="Symbol">)</a> <a id="647" class="Symbol">λ</a> <a id="649" href="hott.equivalence.core.html#649" class="Bound">f</a> <a id="651" class="Symbol">→</a> <a id="653" href="hott.equivalence.core.html#weak-equiv" class="Function">weak-equiv</a> <a id="664" href="hott.equivalence.core.html#649" class="Bound">f</a>

<a id="apply≈" href="hott.equivalence.core.html#apply%E2%89%88" class="Function">apply≈</a> <a id="674" class="Symbol">:</a> <a id="676" class="Symbol">∀</a> <a id="678" class="Symbol">{</a><a id="679" href="hott.equivalence.core.html#679" class="Bound">i</a> <a id="681" href="hott.equivalence.core.html#681" class="Bound">j</a><a id="682" class="Symbol">}</a> <a id="684" class="Symbol">{</a><a id="685" href="hott.equivalence.core.html#685" class="Bound">X</a> <a id="687" class="Symbol">:</a> <a id="689" class="PrimitiveType">Set</a> <a id="693" href="hott.equivalence.core.html#679" class="Bound">i</a><a id="694" class="Symbol">}{</a><a id="696" href="hott.equivalence.core.html#696" class="Bound">Y</a> <a id="698" class="Symbol">:</a> <a id="700" class="PrimitiveType">Set</a> <a id="704" href="hott.equivalence.core.html#681" class="Bound">j</a><a id="705" class="Symbol">}</a> <a id="707" class="Symbol">→</a> <a id="709" href="hott.equivalence.core.html#685" class="Bound">X</a> <a id="711" href="hott.equivalence.core.html#_%E2%89%88_" class="Function Operator">≈</a> <a id="713" href="hott.equivalence.core.html#696" class="Bound">Y</a> <a id="715" class="Symbol">→</a> <a id="717" href="hott.equivalence.core.html#685" class="Bound">X</a> <a id="719" class="Symbol">→</a> <a id="721" href="hott.equivalence.core.html#696" class="Bound">Y</a>
<a id="723" href="hott.equivalence.core.html#apply%E2%89%88" class="Function">apply≈</a> <a id="730" class="Symbol">=</a> <a id="732" href="sum.html#%CE%A3.proj%E2%82%81" class="Field">proj₁</a>

<a id="≈⇒≅" href="hott.equivalence.core.html#%E2%89%88%E2%87%92%E2%89%85" class="Function">≈⇒≅</a> <a id="743" class="Symbol">:</a> <a id="745" class="Symbol">∀</a> <a id="747" class="Symbol">{</a><a id="748" href="hott.equivalence.core.html#748" class="Bound">i</a> <a id="750" href="hott.equivalence.core.html#750" class="Bound">j</a><a id="751" class="Symbol">}</a> <a id="753" class="Symbol">{</a><a id="754" href="hott.equivalence.core.html#754" class="Bound">X</a> <a id="756" class="Symbol">:</a> <a id="758" class="PrimitiveType">Set</a> <a id="762" href="hott.equivalence.core.html#748" class="Bound">i</a><a id="763" class="Symbol">}</a> <a id="765" class="Symbol">{</a><a id="766" href="hott.equivalence.core.html#766" class="Bound">Y</a> <a id="768" class="Symbol">:</a> <a id="770" class="PrimitiveType">Set</a> <a id="774" href="hott.equivalence.core.html#750" class="Bound">j</a><a id="775" class="Symbol">}</a> <a id="777" class="Symbol">→</a> <a id="779" href="hott.equivalence.core.html#754" class="Bound">X</a> <a id="781" href="hott.equivalence.core.html#_%E2%89%88_" class="Function Operator">≈</a> <a id="783" href="hott.equivalence.core.html#766" class="Bound">Y</a> <a id="785" class="Symbol">→</a> <a id="787" href="hott.equivalence.core.html#754" class="Bound">X</a> <a id="789" href="function.isomorphism.core.html#_%E2%89%85_" class="Record Operator">≅</a> <a id="791" href="hott.equivalence.core.html#766" class="Bound">Y</a>
<a id="793" href="hott.equivalence.core.html#%E2%89%88%E2%87%92%E2%89%85" class="Function">≈⇒≅</a> <a id="797" class="Symbol">{</a><a id="798" class="Argument">X</a> <a id="800" class="Symbol">=</a> <a id="802" href="hott.equivalence.core.html#802" class="Bound">X</a><a id="803" class="Symbol">}{</a><a id="805" href="hott.equivalence.core.html#805" class="Bound">Y</a><a id="806" class="Symbol">}</a> <a id="808" class="Symbol">(</a><a id="809" href="hott.equivalence.core.html#809" class="Bound">f</a> <a id="811" href="sum.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="813" href="hott.equivalence.core.html#813" class="Bound">we</a><a id="815" class="Symbol">)</a> <a id="817" class="Symbol">=</a> <a id="819" href="function.isomorphism.core.html#_%E2%89%85_.iso" class="InductiveConstructor">iso</a> <a id="823" href="hott.equivalence.core.html#809" class="Bound">f</a> <a id="825" href="hott.equivalence.core.html#849" class="Function">g</a> <a id="827" href="hott.equivalence.core.html#895" class="Function">iso₁</a> <a id="832" href="hott.equivalence.core.html#981" class="Function">iso₂</a>
  <a id="839" class="Keyword">where</a>
    <a id="849" href="hott.equivalence.core.html#849" class="Function">g</a> <a id="851" class="Symbol">:</a> <a id="853" href="hott.equivalence.core.html#805" class="Bound">Y</a> <a id="855" class="Symbol">→</a> <a id="857" href="hott.equivalence.core.html#802" class="Bound">X</a>
    <a id="863" href="hott.equivalence.core.html#849" class="Function">g</a> <a id="865" href="hott.equivalence.core.html#865" class="Bound">y</a> <a id="867" class="Symbol">=</a> <a id="869" href="sum.html#%CE%A3.proj%E2%82%81" class="Field">proj₁</a> <a id="875" class="Symbol">(</a><a id="876" href="sum.html#%CE%A3.proj%E2%82%81" class="Field">proj₁</a> <a id="882" class="Symbol">(</a><a id="883" href="hott.equivalence.core.html#813" class="Bound">we</a> <a id="886" href="hott.equivalence.core.html#865" class="Bound">y</a><a id="887" class="Symbol">))</a>

    <a id="895" href="hott.equivalence.core.html#895" class="Function">iso₁</a> <a id="900" class="Symbol">:</a> <a id="902" class="Symbol">(</a><a id="903" href="hott.equivalence.core.html#903" class="Bound">x</a> <a id="905" class="Symbol">:</a> <a id="907" href="hott.equivalence.core.html#802" class="Bound">X</a><a id="908" class="Symbol">)</a> <a id="910" class="Symbol">→</a> <a id="912" href="hott.equivalence.core.html#849" class="Function">g</a> <a id="914" class="Symbol">(</a><a id="915" href="hott.equivalence.core.html#809" class="Bound">f</a> <a id="917" href="hott.equivalence.core.html#903" class="Bound">x</a><a id="918" class="Symbol">)</a> <a id="920" href="equality.core.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="922" href="hott.equivalence.core.html#903" class="Bound">x</a>
    <a id="928" href="hott.equivalence.core.html#895" class="Function">iso₁</a> <a id="933" href="hott.equivalence.core.html#933" class="Bound">x</a> <a id="935" class="Symbol">=</a> <a id="937" href="equality.core.html#ap" class="Function">ap</a> <a id="940" href="sum.html#%CE%A3.proj%E2%82%81" class="Field">proj₁</a> <a id="946" class="Symbol">(</a><a id="947" href="sum.html#%CE%A3.proj%E2%82%82" class="Field">proj₂</a> <a id="953" class="Symbol">(</a><a id="954" href="hott.equivalence.core.html#813" class="Bound">we</a> <a id="957" class="Symbol">(</a><a id="958" href="hott.equivalence.core.html#809" class="Bound">f</a> <a id="960" href="hott.equivalence.core.html#933" class="Bound">x</a><a id="961" class="Symbol">))</a> <a id="964" class="Symbol">(</a><a id="965" href="hott.equivalence.core.html#933" class="Bound">x</a> <a id="967" href="sum.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="969" href="equality.core.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a><a id="973" class="Symbol">))</a>

    <a id="981" href="hott.equivalence.core.html#981" class="Function">iso₂</a> <a id="986" class="Symbol">:</a> <a id="988" class="Symbol">(</a><a id="989" href="hott.equivalence.core.html#989" class="Bound">y</a> <a id="991" class="Symbol">:</a> <a id="993" href="hott.equivalence.core.html#805" class="Bound">Y</a><a id="994" class="Symbol">)</a> <a id="996" class="Symbol">→</a> <a id="998" href="hott.equivalence.core.html#809" class="Bound">f</a> <a id="1000" class="Symbol">(</a><a id="1001" href="hott.equivalence.core.html#849" class="Function">g</a> <a id="1003" href="hott.equivalence.core.html#989" class="Bound">y</a><a id="1004" class="Symbol">)</a> <a id="1006" href="equality.core.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="1008" href="hott.equivalence.core.html#989" class="Bound">y</a>
    <a id="1014" href="hott.equivalence.core.html#981" class="Function">iso₂</a> <a id="1019" href="hott.equivalence.core.html#1019" class="Bound">y</a> <a id="1021" class="Symbol">=</a> <a id="1023" href="sum.html#%CE%A3.proj%E2%82%82" class="Field">proj₂</a> <a id="1029" class="Symbol">(</a><a id="1030" href="sum.html#%CE%A3.proj%E2%82%81" class="Field">proj₁</a> <a id="1036" class="Symbol">(</a><a id="1037" href="hott.equivalence.core.html#813" class="Bound">we</a> <a id="1040" href="hott.equivalence.core.html#1019" class="Bound">y</a><a id="1041" class="Symbol">))</a>

<a id="invert≈" href="hott.equivalence.core.html#invert%E2%89%88" class="Function">invert≈</a> <a id="1053" class="Symbol">:</a> <a id="1055" class="Symbol">∀</a> <a id="1057" class="Symbol">{</a><a id="1058" href="hott.equivalence.core.html#1058" class="Bound">i</a> <a id="1060" href="hott.equivalence.core.html#1060" class="Bound">j</a><a id="1061" class="Symbol">}</a> <a id="1063" class="Symbol">{</a><a id="1064" href="hott.equivalence.core.html#1064" class="Bound">X</a> <a id="1066" class="Symbol">:</a> <a id="1068" class="PrimitiveType">Set</a> <a id="1072" href="hott.equivalence.core.html#1058" class="Bound">i</a><a id="1073" class="Symbol">}{</a><a id="1075" href="hott.equivalence.core.html#1075" class="Bound">Y</a> <a id="1077" class="Symbol">:</a> <a id="1079" class="PrimitiveType">Set</a> <a id="1083" href="hott.equivalence.core.html#1060" class="Bound">j</a><a id="1084" class="Symbol">}</a> <a id="1086" class="Symbol">→</a> <a id="1088" href="hott.equivalence.core.html#1064" class="Bound">X</a> <a id="1090" href="hott.equivalence.core.html#_%E2%89%88_" class="Function Operator">≈</a> <a id="1092" href="hott.equivalence.core.html#1075" class="Bound">Y</a> <a id="1094" class="Symbol">→</a> <a id="1096" href="hott.equivalence.core.html#1075" class="Bound">Y</a> <a id="1098" class="Symbol">→</a> <a id="1100" href="hott.equivalence.core.html#1064" class="Bound">X</a>
<a id="1102" href="hott.equivalence.core.html#invert%E2%89%88" class="Function">invert≈</a> <a id="1110" class="Symbol">(_</a> <a id="1113" href="sum.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1115" href="hott.equivalence.core.html#1115" class="Bound">we</a><a id="1117" class="Symbol">)</a> <a id="1119" href="hott.equivalence.core.html#1119" class="Bound">y</a> <a id="1121" class="Symbol">=</a> <a id="1123" href="sum.html#%CE%A3.proj%E2%82%81" class="Field">proj₁</a> <a id="1129" class="Symbol">(</a><a id="1130" href="sum.html#%CE%A3.proj%E2%82%81" class="Field">proj₁</a> <a id="1136" class="Symbol">(</a><a id="1137" href="hott.equivalence.core.html#1115" class="Bound">we</a> <a id="1140" href="hott.equivalence.core.html#1119" class="Bound">y</a><a id="1141" class="Symbol">))</a>
</pre></body></html>